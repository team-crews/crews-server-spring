<appender name="ERROR" class="ch.qos.logback.core.rolling.RollingFileAppender">
    <file>./logs/error.log</file>
    <filter class="ch.qos.logback.classic.filter.LevelFilter">
        <level>ERROR</level>
        <onMatch>ACCEPT</onMatch>
        <onMismatch>DENY</onMismatch>
    </filter>
    <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">
        <providers>
            <mdc/>
            <pattern>
                <pattern>
                    {
                    "timestamp": "%date{yyyy-MM-dd HH:mm:ss.SSSSSS}",
                    "thread": "%thread",
                    "logger": "%logger"
                    }
                </pattern>
            </pattern>
        </providers>
        <jsonGeneratorDecorator class="net.logstash.logback.decorate.CompositeJsonGeneratorDecorator">
            <decorator class="net.logstash.logback.decorate.PrettyPrintingJsonGeneratorDecorator"/>
        </jsonGeneratorDecorator>
    </encoder>
    <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
        <fileNamePattern>error-history.log.%d{yyyy-MM-dd}.gz</fileNamePattern>
        <maxHistory>15</maxHistory>
        <totalSizeCap>2GB</totalSizeCap>
    </rollingPolicy>
</appender>
